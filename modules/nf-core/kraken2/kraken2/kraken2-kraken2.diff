Changes in component 'nf-core/kraken2/kraken2'
'modules/nf-core/kraken2/kraken2/environment.yml' is unchanged
'modules/nf-core/kraken2/kraken2/meta.yml' is unchanged
Changes in 'kraken2/kraken2/main.nf':
--- modules/nf-core/kraken2/kraken2/main.nf
+++ modules/nf-core/kraken2/kraken2/main.nf
@@ -26,9 +26,9 @@
     script:
     def args = task.ext.args ?: ''
     def prefix = task.ext.prefix ?: "${meta.id}"
-    def paired       = meta.single_end ? "" : "--paired"
-    def classified   = meta.single_end ? "${prefix}.classified.fastq"   : "${prefix}.classified#.fastq"
-    def unclassified = meta.single_end ? "${prefix}.unclassified.fastq" : "${prefix}.unclassified#.fastq"
+    def paired = meta?.single_end == false ? "--paired" : ""
+    def classified   = meta?.single_end == false ? "${prefix}.classified#.fastq" : "${prefix}.classified.fastq"
+    def unclassified = meta?.single_end == false ? "${prefix}.unclassified#.fastq" : "${prefix}.unclassified.fastq"
     def classified_option = save_output_fastqs ? "--classified-out ${classified}" : ""
     def unclassified_option = save_output_fastqs ? "--unclassified-out ${unclassified}" : ""
     def readclassification_option = save_reads_assignment ? "--output ${prefix}.kraken2.classifiedreads.txt" : "--output /dev/null"
@@ -59,9 +59,9 @@
     stub:
     def args = task.ext.args ?: ''
     def prefix = task.ext.prefix ?: "${meta.id}"
-    def paired       = meta.single_end ? "" : "--paired"
-    def classified   = meta.single_end ? "${prefix}.classified.fastq.gz"   : "${prefix}.classified_1.fastq.gz ${prefix}.classified_2.fastq.gz"
-    def unclassified = meta.single_end ? "${prefix}.unclassified.fastq.gz" : "${prefix}.unclassified_1.fastq.gz ${prefix}.unclassified_2.fastq.gz"
+    def paired = meta?.single_end == false ? "--paired" : ""
+    def classified   = meta?.single_end == false ? "${prefix}.classified#.fastq" : "${prefix}.classified.fastq"
+    def unclassified = meta?.single_end == false ? "${prefix}.unclassified#.fastq" : "${prefix}.unclassified.fastq"
     def readclassification_option = save_reads_assignment ? "--output ${prefix}.kraken2.classifiedreads.txt" : "--output /dev/null"
     def compress_reads_command = save_output_fastqs ? "pigz -p $task.cpus *.fastq" : ""
 

'modules/nf-core/kraken2/kraken2/tests/main.nf.test' is unchanged
'modules/nf-core/kraken2/kraken2/tests/main.nf.test.snap' is unchanged
'modules/nf-core/kraken2/kraken2/tests/tags.yml' is unchanged
************************************************************
